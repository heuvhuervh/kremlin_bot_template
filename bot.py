from fastapi import FastAPI
import logging
import asyncio
import random
import aiohttp
from aiogram import Bot, Dispatcher, types, F, executor
from aiogram.filters import Command
from aiogram.types import (
    ReplyKeyboardMarkup,
    KeyboardButton,
    InlineKeyboardMarkup,
    InlineKeyboardButton,
)
import os
import signal
from contextlib import asynccontextmanager
from math import radians, sin, cos, sqrt, atan2

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
TOKEN = os.getenv("BOT_TOKEN")
WEATHER_API_KEY = os.getenv("WEATHER_API_KEY")
WEATHER_URL = "http://api.openweathermap.org/data/2.5/weather"

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
bot = Bot(token=TOKEN)
dp = Dispatcher()

# –û—Å–Ω–æ–≤–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞
keyboard = ReplyKeyboardMarkup(
    keyboard=[
        [KeyboardButton(text="üè∞ –û –ö—Ä–µ–º–ª–µ")],
        [KeyboardButton(text="üñº –§–æ—Ç–æ")],
        [KeyboardButton(text="‚ùì –ó–∞–≥–∞–¥–∫–∞")],
        [KeyboardButton(text="üå§ –ü–æ–≥–æ–¥–∞")],
        [KeyboardButton(text="üìç –û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ", request_location=True)],
        [KeyboardButton(text="üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫")],
    ],
    resize_keyboard=True,
)

# –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–£–∑–Ω–∞—Ç—å –æ—Ç–≤–µ—Ç"
answer_keyboard = ReplyKeyboardMarkup(
    keyboard=[
        [KeyboardButton(text="‚ùì –£–∑–Ω–∞—Ç—å –æ—Ç–≤–µ—Ç")],
        [KeyboardButton(text="üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫")],
    ],
    resize_keyboard=True,
)

# –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ "–û –ö—Ä–µ–º–ª–µ"
kremlin_inline_keyboard = InlineKeyboardMarkup(
    inline_keyboard=[
        [InlineKeyboardButton(text="üìú –ò—Å—Ç–æ—Ä–∏—è", callback_data="history")],
        [InlineKeyboardButton(text="üó∫ –°—Ö–µ–º–∞ –ö—Ä–µ–º–ª—è", callback_data="map")],
        [InlineKeyboardButton(text="üì∏ –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ç–æ", callback_data="historical_photos")],
    ]
)

# –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏
history_keyboard = InlineKeyboardMarkup(
    inline_keyboard=[
        [InlineKeyboardButton(text="–î–æ–≤–º–æ–Ω—Ç–æ–≤ –≥–æ—Ä–æ–¥", callback_data="history_dovmont")],
        [InlineKeyboardButton(text="–ü–µ—Ä—Å–∏", callback_data="history_persi")],
        [InlineKeyboardButton(text="–í–µ—á–µ–≤–∞—è –ø–ª–æ—â–∞–¥—å", callback_data="history_vechevaya")],
        [InlineKeyboardButton(text="–¢—Ä–æ–∏—Ü–∫–∏–π —Å–æ–±–æ—Ä", callback_data="history_trinity")],
        [InlineKeyboardButton(text="–ë–ª–∞–≥–æ–≤–µ—â–µ–Ω—Å–∫–∏–π —Å–æ–±–æ—Ä", callback_data="history_annunciation")],
        [InlineKeyboardButton(text="–ë–∞—à–Ω–∏", callback_data="history_towers")],
        [InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥", callback_data="back_to_main")],
    ]
)

# –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ö—Ä–µ–º–ª–µ
kremlin_info = {
    "history": "üìú –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª –∏—Å—Ç–æ—Ä–∏–∏ –ü—Å–∫–æ–≤—Å–∫–æ–≥–æ –ö—Ä–µ–º–ª—è:",
    "history_dovmont": """üè∞ –î–æ–≤–º–æ–Ω—Ç–æ–≤ –≥–æ—Ä–æ–¥ - –º—É–∑–µ–π –ø–æ–¥ –æ—Ç–∫—Ä—ã—Ç—ã–º –Ω–µ–±–æ–º

–° —é–∂–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –ö—Ä–æ–º–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –î–æ–≤–º–æ–Ω—Ç–æ–≤ –≥–æ—Ä–æ–¥. –°–µ–≥–æ–¥–Ω—è —ç—Ç–æ –±–æ–ª—å—à–æ–π –º—É–∑–µ–π –ø–æ–¥ –æ—Ç–∫—Ä—ã—Ç—ã–º –Ω–µ–±–æ–º. –û–Ω –ø–æ–ª—É—á–∏–ª —Å–≤–æ—ë –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ –∏–º–µ–Ω–∏ –∫–Ω—è–∑—è –î–æ–≤–º–æ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ 33-—Ö –ª–µ—Ç –ø—Ä–∞–≤–∏–ª –≥–æ—Ä–æ–¥–æ–º (1266 - 1299 –≥–≥.). 

–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —ç—Ç–æ –º–µ—Å—Ç–æ –±—ã–ª–æ —á–∞—Å—Ç—å—é –ø—Å–∫–æ–≤—Å–∫–æ–≥–æ –ø–æ—Å–∞–¥–∞. –í XIII –≤–µ–∫–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é –æ—Ç–¥–µ–ª–∏–ª–∏ –∫–∞–º–µ–Ω–Ω–æ–π –¥–æ–≤–º–æ–Ω—Ç–æ–≤–æ–π —Å—Ç–µ–Ω–æ–π –∏, –≤–ø–ª–æ—Ç—å –¥–æ XVIII –≤–µ–∫–∞, –∑–¥–µ—Å—å –±—ã–ª –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –∏ –¥—É—Ö–æ–≤–Ω—ã–π —Ü–µ–Ω—Ç—Ä –≥–æ—Ä–æ–¥–∞. –ù–∞ –Ω–µ–±–æ–ª—å—à–æ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –î–æ–≤–º–æ–Ω—Ç–æ–≤–∞ –≥–æ—Ä–æ–¥–∞ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–ª–æ—Å—å 18 –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã—Ö —Ö—Ä–∞–º–æ–≤.

–í–æ –≤—Ä–µ–º—è –°–µ–≤–µ—Ä–Ω–æ–π –≤–æ–π–Ω—ã –ü—ë—Ç—Ä I —Å—Ç–∞–ª —É–∫—Ä–µ–ø–ª—è—Ç—å –≥–æ—Ä–æ–¥. –ù–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –î–æ–≤–º–æ–Ω—Ç–æ–≤–∞ –≥–æ—Ä–æ–¥–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–∏–ª–∞—Å—å –†–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–∞—è –±–∞—Ç–∞—Ä–µ—è. –£—Ä–æ–≤–µ–Ω—å –∑–µ–º–ª–∏ –ø–æ–¥–Ω—è–ª–∏ –Ω–∞ 4 –º–µ—Ç—Ä–∞. –í—Å–µ –∑–¥–∞–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–∏–≤—à–∏–µ—Å—è –∫ —Ç–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ —Ü–µ—Ä–∫–≤–∏ –±—ã–ª–∏ –∑–∞—Å—ã–ø–∞–Ω—ã, –∞ –≤ —É—Ü–µ–ª–µ–≤—à–∏—Ö —Ä–∞–∑–º–µ—â–∞–ª–∏—Å—å —Å–∫–ª–∞–¥—ã –æ—Ä—É–∂–∏—è. 

–í –Ω–∞—á–∞–ª–µ XIX –≤–µ–∫–∞ –æ—Å—Ç–∞—Ç–∫–∏ –æ–±–≤–µ—Ç—à–∞–ª—ã—Ö —É–∫—Ä–µ–ø–ª–µ–Ω–∏–π –∏ –≤–æ–≤—Å–µ —Ä–∞–∑–æ–±—Ä–∞–ª–∏ –∑–∞ –Ω–µ–Ω–∞–¥–æ–±–Ω–æ—Å—Ç—å—é. –° —Ç–µ—Ö –ø–æ—Ä —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è —ç—Ç–∞ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø—Ä–µ–≤—Ä–∞—â–∞–ª–∞—Å—å –≤ –∑–∞—Ä–æ—Å—à–∏–π —Ç—Ä–∞–≤–æ–π –ø—É—Å—Ç—ã—Ä—å. –õ–∏—à—å –≤ XX –≤–µ–∫–µ –Ω–∞—á–∞–ª–∏—Å—å —Ä–∞—Å–∫–æ–ø–∫–∏ –∏ —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤–∏–¥–µ—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ –æ—Ç—Ä—ã—Ç—ã–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç—ã –∑–¥–∞–Ω–∏–π –∏ —Ü–µ—Ä–∫–≤–µ–π.""",
    "history_persi": """üî∂ –ü–µ—Ä—Å–∏ ‚Äî —é–∂–Ω–∞—è —Å—Ç–µ–Ω–∞ –ö—Ä–µ–º–ª—è

–ü–µ—Ä—Å–∏ ‚Äî —é–∂–Ω–∞—è, –ø—Ä–∏—Å—Ç—É–ø–Ω–∞—è —Å—Ç–µ–Ω–∞ –ö—Ä–æ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞—â–∏—â–∞–ª–∞ –í–µ—á–µ–≤—É—é –ø–ª–æ—â–∞–¥—å –∏ –¢—Ä–æ–∏—Ü–∫–∏–π —Å–æ–±–æ—Ä. –í–ø–µ—Ä–≤—ã–µ –ü–µ—Ä—Å–∏ —É–ø–æ–º–∏–Ω–∞—é—Ç—Å—è –≤ –ª–µ—Ç–æ–ø–∏—Å–∏ –ø–æ–¥ 1065 –≥–æ–¥–æ–º, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏ —Å—á–∏—Ç–∞—é—Ç, —á—Ç–æ —Å—Ç–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ –µ—â–µ –≤ IX –≤.

–°–ª–æ–≤–æ ¬´–ø–µ—Ä—Å–∏¬ª –æ–∑–Ω–∞—á–∞–µ—Ç ¬´–≥—Ä—É–¥—å¬ª, –∫–æ—Ç–æ—Ä–æ–π –≥–æ—Ä–æ–¥ –±—ã–ª –≥–æ—Ç–æ–≤—å –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å –≤—Ä–∞–≥–∞. –ü–µ—Ä–µ–¥ —Å—Ç–µ–Ω–æ–π –ø—Å–∫–æ–≤–∏—á–∏ –≤—ã—Ä—ã–ª–∏ –ì—Ä–µ–±–ª—é ‚Äî —Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–π —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –±—ã–ª —Å—É—Ö–∏–º. –ò–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –ü–µ—Ä—Å–∏ –ø–æ–¥–Ω–∏–º–∞–ª–∏—Å—å –Ω–∞–¥ —É—Ä–æ–≤–Ω–µ–º –ì—Ä–µ–±–ª–∏ –Ω–µ –º–µ–Ω–µ–µ, —á–µ–º –Ω–∞ 20 –º. –ü–µ—Ä—Å–∏ –≤—Å–µ–≥–¥–∞ –±—ã–ª–∏ —Å—Ç–µ–Ω–æ–π –∏–∑ –∫–∞–º–Ω—è.

–ö–æ–≥–¥–∞ –≤ 1348 –≥–æ–¥—É –ü—Å–∫–æ–≤ –æ—Å–≤–æ–±–æ–¥–∏–ª—Å—è –æ—Ç –≤–ª–∞—Å—Ç–∏ –í–µ–ª–∏–∫–æ–≥–æ –ù–æ–≤–≥–æ—Ä–æ–¥–∞ (–Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ —á—Ç–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–º –ü—Å–∫–æ–≤ —Å—Ç–∞–ª –ø–æ—á—Ç–∏ –Ω–∞ –≤–µ–∫ —Ä–∞–Ω—å—à–µ), –ø—Å–∫–æ–≤–∏—á–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –ü–µ—Ä—Å–∏ –∫–∞–∫ –ø–æ—Å—Ç–∞–º–µ–Ω—Ç –ø–æ–¥ –∫–æ–ª–æ–∫–æ–ª—å–Ω–∏—Ü—É –¥–ª—è –≤–µ—á–µ–≤—ã—Ö –∏ —Å–æ–±–æ—Ä–Ω—ã—Ö –∫–æ–ª–æ–∫–æ–ª–æ–≤. –ü–µ—Ä—Å–∏, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Å—Ç–∞–ª–∏ —Å–∏–º–≤–æ–ª–æ–º –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –ø—Å–∫–æ–≤—Å–∫–æ–≥–æ –≤–µ—á–µ–≤–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞.

–ò–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –ø–æ—Å–ª–µ 1466 –≥–æ–¥–∞ —Ç–µ—Ä–º–∏–Ω ¬´–ü–µ—Ä—Å–∏¬ª –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—Ç–∞–ª —É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å—Å—è, –Ω–æ —Å–∞–º–∞ —Å—Ç–µ–Ω–∞ –µ—â–µ –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è —è–≤–ª—è–ª–∞—Å—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –Ω–∞ –†—É—Å–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –∞–Ω—Å–∞–º–±–ª–µ–º.

–í 1860 –≥–æ–¥—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –†–∞–Ω–≤–∏–¥ —Å–æ—Å—Ç–∞–≤–∏–ª –ø—Ä–æ–µ–∫—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ü–µ—Ä—Å–µ–π –∏ –°–º–µ—Ä–¥—å–µ–π –±–∞—à–Ω–∏, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω –≤ 1862-1865 –≥–æ–¥–∞—Ö. –û—Ç—Ä–µ—Å—Ç–∞–≤—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —é–∂–Ω–∞—è —Å—Ç–µ–Ω–∞ –ø—Ä–æ—Å—Ç–æ—è–ª–∞ –Ω–µ–ø–æ–∫—Ä—ã—Ç–æ–π –ø–æ—á—Ç–∏ —Å—Ç–æ –ª–µ—Ç –∏ –∫ —Å–µ—Ä–µ–¥–∏–Ω–µ XX –≤. –≤–Ω–æ–≤—å –ø—Ä–∏—à–ª–∞ –≤ —Ä—É–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –í –∫–æ–Ω—Ü–µ 1950-—Ö –≥–æ–¥–æ–≤ –±—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –≤–Ω–æ–≤—å –Ω–∞—á–∞—Ç—å —Ä–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –Ω–∞ —é–∂–Ω–æ–π —Å—Ç–µ–Ω–µ –ö—Ä–µ–º–ª—è, –∞ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ —Å—Ç–µ–Ω—É —Ä–µ—Å—Ç–∞–≤—Ä–∏—Ä–æ–≤–∞–ª–∏ –≤ 2014-2015 –≥–æ–¥–∞—Ö.

–ù–∞ —Å—Ç–µ–Ω–µ –ü–µ—Ä—Å–µ–π —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤ 1972 –≥–æ–¥—É –≤ —á–µ—Å—Ç—å 730-–ª–µ—Ç–∏—è –ø–æ–±–µ–¥—ã –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –ù–µ–≤—Å–∫–æ–≥–æ –≤ –õ–µ–¥–æ–≤–æ–º –ø–æ–±–æ–∏—â–µ. –ï—ë –∞–≤—Ç–æ—Ä ‚Äî –ø—Å–∫–æ–≤—Å–∫–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä, —Ä–µ—Å—Ç–∞–≤—Ä–∞—Ç–æ—Ä, —Ö—É–¥–æ–∂–Ω–∏–∫ –∏ –∫—É–∑–Ω–µ—Ü –í—Å–µ–≤–æ–ª–æ–¥ –ü–µ—Ç—Ä–æ–≤–∏—á –°–º–∏—Ä–Ω–æ–≤. –ù–∞ —â–∏—Ç–µ –≤ –≤–∏–¥–µ –≤–æ–∏–Ω—Å–∫–æ–≥–æ –∑–Ω–∞–º–µ–Ω–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω—ã –≥–µ—Ä–± (–±–∞—Ä—Å) –∏ –ø–ª–∞–Ω –ü—Å–∫–æ–≤–∞. –ü–æ–¥ –ø—Ä–∞–ø–æ—Ä–æ–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–ª–∞—Å—Ç–∏–Ω—ã —Å –≥–µ—Ä–±–∞–º–∏ –≥–æ—Ä–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–∏ –≤ —Å—Ä–∞–∂–µ–Ω–∏–∏ –Ω–∞ –ª—å–¥—É –ß—É–¥—Å–∫–æ–≥–æ –æ–∑–µ—Ä–∞ –≤ 1242 –≥–æ–¥—É ‚Äî –ü—Å–∫–æ–≤, –ù–æ–≤–≥–æ—Ä–æ–¥, –¢–≤–µ—Ä—å, –í–ª–∞–¥–∏–º–∏—Ä –∏ –ü–µ—Ä–µ—Å–ª–∞–≤–ª—å-–ó–∞–ª–µ—Å—Å–∫–∏–π. –ö–æ–ª–æ–∫–æ–ª–∞ —Å–∏–º–≤–æ–ª–∏–∑–∏—Ä—É—é—Ç –í–µ—á–µ–≤–æ–π –∏ –Ω–∞–±–∞—Ç–Ω—ã–π –∫–æ–ª–æ–∫–æ–ª–∞ –ü—Å–∫–æ–≤—Å–∫–æ–π –≤–µ—á–µ–≤–æ–π —Ä–µ—Å–ø—É–±–ª–∏–∫–∏.

–°–µ–≥–æ–¥–Ω—è –ü–µ—Ä—Å–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –ö—Ä–µ–º–ª—è (—Å —Å–µ–≤–µ—Ä–∞) –∏–º–µ—é—Ç –≤—ã—Å–æ—Ç—É 6 –º, –∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –î–æ–≤–º–æ–Ω—Ç–æ–≤–∞ –≥–æ—Ä–æ–¥–∞ (—Å —é–≥–∞) ‚Äî –æ–∫–æ–ª–æ 15 –º, —á—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ä–µ–∑–∫–∏–º –ø–µ—Ä–µ–ø–∞–¥–æ–º —Ä–µ–ª—å–µ—Ñ–∞. –ù–∞ –∑–∞–ø–∞–¥–Ω–æ–π –æ–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏ –ü–µ—Ä—Å–µ–π —Å—Ç–æ–∏—Ç –≤–æ—Å—å–º–∏—É–≥–æ–ª—å–Ω–∞—è –î–æ–≤–º–æ–Ω—Ç–æ–≤–∞ (–°–º–µ—Ä–¥—å—è) –±–∞—à–Ω—è, –∞ —Å –≤–æ—Å—Ç–æ–∫–∞ –≤–æ–∑–≤—ã—à–∞–µ—Ç—Å—è –ß–∞—Å–æ–≤–∞—è (–¢—Ä–æ–∏—Ü–∫–∞—è) –±–∞—à–Ω—è.""",
    "history_vechevaya": """üîî –í–µ—á–µ–≤–∞—è –ø–ª–æ—â–∞–¥—å ‚Äî –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä –ü—Å–∫–æ–≤–∞

–í–µ—á–µ–≤–∞—è –ø–ª–æ—â–∞–¥—å ‚Äî –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä —Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤–æ–≥–æ –ü—Å–∫–æ–≤–∞. –û–Ω–∞ –ø—Ä–∏–º—ã–∫–∞–ª–∞ –∫ –¢—Ä–æ–∏—Ü–∫–æ–º—É —Å–æ–±–æ—Ä—É —Å —é–∂–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã. –ù–∞ –≤–µ—á–µ–≤–æ–π –ø–ª–æ—â–∞–¥–∏ –≤ –¥—Ä–µ–≤–Ω–æ—Å—Ç–∏ —Ä–µ—à–∞–ª–∏—Å—å –≤—Å–µ —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∂–∏–∑–Ω–∏ –≥–æ—Ä–æ–¥–∞: –ø–æ—Å—Ç—Ä–æ–π–∫–∏ —É–∫—Ä–µ–ø–ª–µ–Ω–∏–π, –º–æ—Å—Ç–æ–≤, —Ü–µ—Ä–∫–≤–µ–π; –≤–æ–ø—Ä–æ—Å—ã –∑–∞–∫–ª—é—á–µ–Ω–∏—è –º–∏—Ä–∞ –∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤–æ–π–Ω—ã. –° 1348 –ø–æ 1510 –≥–≥. –∑–¥–µ—Å—å, –Ω–∞ —ç—Ç–æ–π –ø–ª–æ—â–∞–¥–∏ —à—É–º–µ–ª–æ –Ω–∞—Ä–æ–¥–Ω–æ–µ —Å–æ–±—Ä–∞–Ω–∏–µ ‚Äî –≤–µ—á–µ. –≠—Ç–æ –±—ã–ª –≤–µ—Ä—Ö–æ–≤–Ω—ã–π –æ—Ä–≥–∞–Ω –≤–ª–∞—Å—Ç–∏, –Ω–∞ –≤–µ—á–µ –ø—Å–∫–æ–≤–∏—á–∏ —Å–æ–∑—ã–≤–∞–ª–∏—Å—å –∑–≤–æ–Ω–æ–º –≤–µ—á–µ–≤–æ–≥–æ –∫–æ–ª–æ–∫–æ–ª–∞.

–ù–∞ –≤–µ—á–µ –º–æ–≥–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –≤—Å–µ —Å–≤–æ–±–æ–¥–Ω—ã–µ –≤–∑—Ä–æ—Å–ª—ã–µ –º—É–∂—á–∏–Ω—ã, –≥–ª–∞–≤—ã —Å–µ–º–µ–π –∏ –≤–ª–∞–¥–µ–ª—å—Ü—ã –¥–≤–æ—Ä–æ–≤ –≤–æ –ü—Å–∫–æ–≤–µ. –ü–æ—ç—Ç–æ–º—É –≤–µ—á–µ –Ω–∞–∑—ã–≤–∞—é—Ç –Ω–∞—Ä–æ–¥–Ω—ã–º —Å–æ–±—Ä–∞–Ω–∏–µ–º, –Ω–æ –≥–æ—Å–ø–æ–¥—Å—Ç–≤–æ–≤–∞–ª–∏ –Ω–∞ –≤–µ—á–µ –±–æ—è—Ä–µ.

–¢–æ–ª—å–∫–æ –≤–µ—á–µ –º–æ–≥–ª–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–∫–æ–Ω—ã –∏ –æ—Ç–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ä—ã–µ; —Ç–∞–∫, –≤ 1467 –≥–æ–¥—É –≤–µ—á–µ —É—Ç–≤–µ—Ä–¥–∏–ª–æ —Å–±–æ—Ä–Ω–∏–∫ –∑–∞–∫–æ–Ω–æ–≤ –ü—Å–∫–æ–≤—Å–∫–æ–π –†–µ—Å–ø—É–±–ª–∏–∫–∏ ‚Äî –ü—Å–∫–æ–≤—Å–∫—É—é –°—É–¥–Ω—É—é –ì—Ä–∞–º–æ—Ç—É. –í–µ—á–µ –ø—Ä–∏–Ω–∏–º–∞–ª–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–æ –ø–æ—Å–ª–æ–≤, –∏–∑–±–∏—Ä–∞–ª–æ –∏ —Å–º–µ—â–∞–ª–æ –≤—Å–µ—Ö –≤—ã—Å—à–∏—Ö –¥–æ–ª–∂–Ω–æ—Å—Ç–Ω—ã—Ö –ª–∏—Ü. –í–µ—á–µ –æ–ø—Ä–µ–¥–µ–ª—è–ª–æ –ø–æ–±–æ—Ä—ã —Å –Ω–∞—Å–µ–ª–µ–Ω–∏—è, —Ä–∞—Å–∫–ª–∞–¥—ã–≤–∞–ª–æ –ø–æ–¥–∞—Ç–∏ –∏ –ø–æ–≤–∏–Ω–Ω–æ—Å—Ç–∏, —Å—É–¥–∏–ª–æ –≤—ã—Å—à–∏—Ö –¥–æ–ª–∂–Ω–æ—Å—Ç–Ω—ã—Ö –ª–∏—Ü, –∞ —Ç–∞–∫–∂–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–æ –Ω–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω—ã–µ —É–≥–æ–ª–æ–≤–Ω—ã–µ –∏ –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–µ –¥–µ–ª–∞. –ù–∞ –≤–µ—á–µ –±—ã–ª–∞ —Å–≤–æ—è –ø–µ—á–∞—Ç—å, –∫–æ—Ç–æ—Ä—É—é –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞–ª–∏ –∫ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º.

–í –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –≤–µ—á–µ–≤–æ–π –∫–æ–ª–æ–∫–æ–ª –∑–≤–æ–Ω–∏–ª 13 —è–Ω–≤–∞—Ä—è 1510 –≥–æ–¥–∞, –∫–æ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —ç–ø–æ—Ö–∞ –ü—Å–∫–æ–≤—Å–∫–æ–π –≤–µ—á–µ–≤–æ–π —Ä–µ—Å–ø—É–±–ª–∏–∫–∏ –∏ –Ω–∞—á–∞–ª–∞—Å—å –∏—Å—Ç–æ—Ä–∏—è –ü—Å–∫–æ–≤–∞ –≤ —Å–æ—Å—Ç–∞–≤–µ —Ä—É—Å—Å–∫–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –†—É—Å–∏.

–°–µ–π—á–∞—Å –≤–µ—á–µ–≤–∞—è –ø–ª–æ—â–∞–¥—å —Å–∫—Ä—ã—Ç–∞ –ø–æ–∑–¥–Ω–µ–π—à–∏–º–∏ –Ω–∞—Å–ª–æ–µ–Ω–∏—è–º–∏ –∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ —Å–ª–æ—è –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç—Ä–æ–≤ –Ω–∏–∂–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏.""",
    "history_trinity": """‚õ™ –¢—Ä–æ–∏—Ü–∫–∏–π —Å–æ–±–æ—Ä - –¥—É—Ö–æ–≤–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ –ü—Å–∫–æ–≤–∞

–ß–µ—Ç–≤–µ—Ä—Ç—ã–π –ø–æ —Å—á–µ—Ç—É —Ö—Ä–∞–º –Ω–∞ —ç—Ç–æ–º –º–µ—Å—Ç–µ:
- –ü–µ—Ä–≤—ã–π –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–π - X –≤–µ–∫ (–ø–æ –ø—Ä–µ–¥–∞–Ω–∏—é, –ø–æ –≤–µ–ª–µ–Ω–∏—é –∫–Ω—è–≥–∏–Ω–∏ –û–ª—å–≥–∏)
- –ö–∞–º–µ–Ω–Ω—ã–π —Ö—Ä–∞–º 1138 –≥–æ–¥–∞
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∑–¥–∞–Ω–∏–µ - 1699 –≥–æ–¥–∞

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- 7-—è—Ä—É—Å–Ω—ã–π –∏–∫–æ–Ω–æ—Å—Ç–∞—Å
- –ú–æ—â–∏ –ø—Å–∫–æ–≤—Å–∫–∏—Ö —Å–≤—è—Ç—ã—Ö
- –ß—É–¥–æ—Ç–≤–æ—Ä–Ω—ã–µ –∏–∫–æ–Ω—ã

–ë—ã–ª –∑–∞–∫—Ä—ã—Ç –≤ 1935-1941 –≥–≥., –≤–Ω–æ–≤—å –æ—Å–≤—è—â–µ–Ω –≤ 1941 –≥–æ–¥—É.""",
    "history_annunciation": """üîî –ë–ª–∞–≥–æ–≤–µ—â–µ–Ω—Å–∫–∏–π —Å–æ–±–æ—Ä - —É—Ç—Ä–∞—á–µ–Ω–Ω–∞—è —Å–≤—è—Ç—ã–Ω—è

–°–æ–±–æ—Ä –ø–æ—Å—Ç—Ä–æ–µ–Ω –≤ –ü—Å–∫–æ–≤—Å–∫–æ–º –∫—Ä–µ–º–ª–µ –≤ 1836 –≥–æ–¥—É –¥–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è –±–æ–≥–æ—Å–ª—É–∂–µ–Ω–∏–π –≤ –∑–∏–º–Ω–µ–µ –≤—Ä–µ–º—è - –≤ –ø–µ—Ä–∏–æ–¥ —Å 17 –æ–∫—Ç—è–±—Ä—è –ø–æ —à–µ—Å—Ç—É—é –Ω–µ–¥–µ–ª—é –ø–æ—Å–ª–µ –ü–∞—Å—Ö–∏. –ù–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –∏–∑ –∫–∞–∑–Ω—ã –±—ã–ª–æ –æ—Ç–ø—É—â–µ–Ω–æ 180 000 —Ä—É–±–ª–µ–π –∞—Å—Å–∏–≥–Ω–∞—Ü–∏—è–º–∏.

–í 1888 –≥–æ–¥—É —Å–æ–±–æ—Ä –±—ã–ª –æ—Ç–¥–µ–ª–∞–Ω —Å–Ω–∞—Ä—É–∂–∏ –Ω–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞ –±—ã–≤—à–µ–≥–æ —Ü–µ—Ä–∫–æ–≤–Ω–æ–≥–æ —Å—Ç–∞—Ä–æ—Å—Ç—ã, –ø—Å–∫–æ–≤—Å–∫–æ–≥–æ –∫—É–ø—Ü–∞ –ò–≤–∞–Ω–∞ –ß–µ—Ä–Ω–æ–≤–∞. –í 1890 –≥–æ–¥—É –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ —Å–æ–±–æ—Ä –æ—Ç–¥–µ–ª–∞–Ω –≤–Ω—É—Ç—Ä–∏, –Ω–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞ –∫—É–ø—Ü–∞ –ò–≤–∞–Ω–∞ –ß–µ—Ä–Ω–æ–≤–∞ —É—Å—Ç—Ä–æ–µ–Ω—ã —Ö–æ—Ä—ã. –ù–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞ –ü—Å–∫–æ–≤—Å–∫–æ–≥–æ –∫—É–ø–µ—á–µ—Å–∫–æ–≥–æ –æ–±—â–µ—Å—Ç–≤–∞ –≤ 1898 –≥–æ–¥—É —É—Å—Ç—Ä–æ–µ–Ω –±–∞–ª–¥–∞—Ö–∏–Ω –Ω–∞–¥ –º–æ—â–∞–º–∏ —Å–≤—è—Ç–æ–≥–æ –∫–Ω—è–∑—è –ì–∞–≤—Ä–∏–∏–ª–∞. –ü–æ —É–∫–∞–∑—É –°–≤—è—Ç–µ–π—à–µ–≥–æ –°–∏–Ω–æ–¥–∞ –æ—Ç 21 –∏—é–Ω—è 1898 –≥–æ–¥–∞ –º–æ—â–∏ —Å–≤—è—Ç–æ–≥–æ –∫–Ω—è–∑—è –µ–∂–µ–≥–æ–¥–Ω–æ —Å 15 –æ–∫—Ç—è–±—Ä—è –ø–æ 23 –∞–ø—Ä–µ–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∏–ª–∏—Å—å –∏–∑ –¢—Ä–æ–∏—Ü–∫–æ–≥–æ —Å–æ–±–æ—Ä–∞ –≤ –ë–ª–∞–≥–æ–≤–µ—â–µ–Ω—Å–∫–∏–π.

–í 1920 - 1922 –≥–æ–¥–∞—Ö –ë–ª–∞–≥–æ–≤–µ—â–µ–Ω—Å–∫–∏–π —Å–æ–±–æ—Ä —Ç–∞–∫–∂–µ –∫–∞–∫ –∏ –¢—Ä–æ–∏—Ü–∫–∏–π –±—ã–ª –ø–µ—Ä–µ–¥–∞–Ω –æ–±–Ω–æ–≤–ª–µ–Ω—Ü–∞–º.

–ù–∞ –∑–∞—Å–µ–¥–∞–Ω–∏–∏ –ü—Å–∫–æ–≤—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–Ω–æ–≥–æ –∏—Å–ø–æ–ª–∫–æ–º–∞ 16 –Ω–æ—è–±—Ä—è 1929 –≥–æ–¥–∞ –±—ã–ª–æ –∑–∞—Å–ª—É—à–∞–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–Ω–æ–π –∫–æ–º–∏—Å—Å–∏–∏ –ø–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—é —Ö–ª–µ–±–Ω—ã—Ö –≥—Ä—É–∑–æ–≤ –æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∫–ª–∞–¥—ã "—Ç–µ–ø–ª—ã–µ –∑–¥–∞–Ω–∏—è" –¢—Ä–æ–∏—Ü–∫–æ–≥–æ —Å–æ–±–æ—Ä–∞, —Ç–∞–∫ –∫–∞–∫ –≤–µ—Ä—É—é—â–∏–º, –ø–æ –∏—Ö –º–Ω–µ–Ω–∏—é, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ "–∑–∏–º–Ω–µ–≥–æ –∑–¥–∞–Ω–∏—è". –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –±—ã–ª–æ –¥–∞–Ω–æ —Å –æ–≥–æ–≤–æ—Ä–∫–æ–π "...–Ω–∞–±–ª—é—Å—Ç–∏ –∑–∞ –ø–æ–ª–Ω–æ–π —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å—é –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –∏ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π".

27 –∞–≤–≥—É—Å—Ç–∞ 1932 –≥–æ–¥–∞ –ü—Å–∫–æ–≤—Å–∫–∏–π –≥–æ—Ä–æ–¥—Å–∫–æ–π —Å–æ–≤–µ—Ç –ø—Ä–∏–Ω—è–ª —Ä–µ—à–µ–Ω–∏–µ –æ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ –≤ —Å–æ–±–æ—Ä–µ –∏–Ω–∫—É–±–∞—Ç–æ—Ä–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–∏. –û —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ —á–µ–≥–æ-–ª–∏–±–æ —Ä–µ—á—å —É–∂–µ –Ω–µ —à–ª–∞.

–í 1933 –≥–æ–¥—É —Å–æ–±–æ—Ä –±—ã–ª –≤–∑–æ—Ä–≤–∞–Ω. –í–ª–∞—Å—Ç–∏ –æ–±—ä—è–≤–∏–ª–∏, —á—Ç–æ –Ω—É–∂–µ–Ω —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏–∏, –Ω–æ –≤ –∫—Ä–µ–º–ª–µ –¥–æ–ª–≥–æ –ª–µ–∂–∞–ª–∏ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ –≥–ª—ã–±—ã –≤–∑–æ—Ä–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–±–æ—Ä–∞.

25 –∞–ø—Ä–µ–ª—è 2003 –≥–æ–¥–∞ –Ω–∞ –º–µ—Å—Ç–µ –≤–∑–æ—Ä–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–±–æ—Ä–∞ –∞—Ä—Ö–∏–µ–ø–∏—Å–∫–æ–ø–æ–º –ü—Å–∫–æ–≤—Å–∫–∏–º –∏ –í–µ–ª–∏–∫–æ–ª—É–∫—Å–∫–∏–º –ï–≤—Å–µ–≤–∏–µ–º –æ—Å–≤—è—â–µ–Ω –ø–∞–º—è—Ç–Ω—ã–π –∫—Ä–µ—Å—Ç.""",
    "history_towers": """üõ°Ô∏è –ë–∞—à–Ω–∏ –ö—Ä–µ–º–ª—è - —Å—Ç—Ä–∞–∂–∏ –¥—Ä–µ–≤–Ω–µ–≥–æ –ü—Å–∫–æ–≤–∞

–ü—Ä–∏–º–µ—Ä–Ω–æ –≤ –æ–¥–Ω–æ –≤—Ä–µ–º—è —Å –ö—É—Ç–µ–∫—Ä–æ–º–æ–π –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –ü—Å–∫–æ–≤—Å–∫–æ–≥–æ –∫—Ä–µ–º–ª—è –ø–æ—è–≤–∏–ª–∞—Å—å –¢—Ä–æ–∏—Ü–∫–∞—è –±–∞—à–Ω—è (1400-1401 –≥–æ–¥—ã). –û–Ω–∞ —Ç–∞–∫–∂–µ –∏–º–µ–µ—Ç –¥—Ä—É–≥–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è ‚Äì –õ—É–±—è–Ω—Å–∫–∞—è, –í–µ–ª–∏–∫–∞—è –∏ –ß–∞—Å–æ–≤–∞—è. –°—Ç–∞—Ä–∞—è –±–∞—à–Ω—è –ø—Ä–æ—Å—Ç–æ—è–ª–∞ –¥–æ 1787 –≥–æ–¥–∞, –∏ –±—ã–ª–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤–º–µ—Å—Ç–µ —Å –¢—Ä–æ–∏—Ü–∫–∏–º–∏ –≤–æ—Ä–æ—Ç–∞–º–∏ –≤ 1988 –≥–æ–¥—É.

–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏–∑–µ–º–∏—Å—Ç–æ–π –í–ª–∞—Å—å–µ–≤—Å–∫–æ–π –±–∞—à–Ω–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ XV –≤–µ–∫–∞. –ö–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –≤ —Å–µ—á–µ–Ω–∏–∏ —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–ª–∏ —Ç–∞–∫ –ø–æ—Ç–æ–º—É, —á—Ç–æ –≤ –°—Ä–µ–¥–Ω–∏–µ –≤–µ–∫–∞ —Ä—è–¥–æ–º —Å –Ω–∏–º –Ω–∞—Ö–æ–¥–∏–ª–∞—Å—å –í–ª–∞—Å—å–µ–≤—Å–∫–∞—è —Ü–µ—Ä–∫–æ–≤—å. –°—Ç–∞—Ä–∞—è –±–∞—à–Ω—è —Å–ª—É–∂–∏–ª–∞ –¥–ª—è –æ—Ö—Ä–∞–Ω—ã —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –ü—Å–∫–æ–≤—Å–∫–æ–≥–æ –∫—Ä–µ–º–ª—è —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —Ä–µ–∫–∏ –í–µ–ª–∏–∫–æ–π. –û–Ω–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –±–æ–ª—å—à–∏–º —Å–º–æ—Ç—Ä–æ–≤—ã–º —á–µ—Ä–¥–∞–∫–æ–º –∏ –≤—ã—Å–æ–∫–∏–º —à–∞—Ç—Ä–æ–º. –≠—Ç–∞ –±–∞—à–Ω—è –ø—Ä–æ–µ–∑–¥–Ω–∞—è, –∏ –≤ —Å—Ç–∞—Ä—ã–µ –≤—Ä–µ–º–µ–Ω–∞ —á–µ—Ä–µ–∑ –Ω–µ–µ –≤—ä–µ–∑–∂–∞–ª–∏ –≤ –∫—Ä–µ–º–ª—å –∏–∑ –ó–∞–≤–µ–ª–∏—á—å—è.

–í –°—Ä–µ–¥–Ω–∏–µ –≤–µ–∫–∞ –≤–Ω—É—Ç—Ä–∏ –ü—Å–∫–æ–≤—Å–∫–æ–≥–æ –∫—Ä–µ–º–ª—è —Ä–∞–∑–º–µ—â–∞–ª—Å—è –°—Ç–∞—Ä—ã–π –¢–æ—Ä–≥, –∏ —á–µ—Ä–µ–∑ –≤–æ—Ä–æ—Ç–∞ –í–ª–∞—Å—å–µ–≤—Å–∫–æ–π –±–∞—à–Ω–∏ –∫ –º–µ—Å—Ç—É —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø–æ–ø–∞–¥–∞–ª–∏ –∫—É–ø—Ü—ã –∏ –ø—Å–∫–æ–≤–∏—á–∏. –ü–æ–≤–æ–∑–∫–∏, –≥—Ä—É–∂–µ–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–º, –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ —á–µ—Ä–µ–∑ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—É—é –≤ –±–∞—à–Ω–µ –≥–æ—Ä–æ–¥—Å–∫—É—é —Ç–∞–º–æ–∂–Ω—é. –í –Ω–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –±–∞—à–µ–Ω–Ω—ã–µ –≤–æ—Ä–æ—Ç–∞ –∑–∞–∫—Ä—ã–≤–∞–ª–∏, –∏ –¥–æ —É—Ç—Ä–∞ –≤–æ–∑–ª–µ –Ω–∏—Ö –¥–µ–∂—É—Ä–∏–ª–∞ –≤–æ–æ—Ä—É–∂–µ–Ω–Ω–∞—è –æ—Ö—Ä–∞–Ω–∞. –í 60-–µ –≥–æ–¥—ã –ø—Ä–æ—à–ª–æ–≥–æ –≤–µ–∫–∞ –ø–æ–ª—É—Ä–∞–∑—Ä—É—à–µ–Ω–Ω—É—é –í–ª–∞—Å—å–µ–≤—Å–∫—É—é –±–∞—à–Ω—é –æ—Ç—Å—Ç—Ä–æ–∏–ª–∏ –∑–∞–Ω–æ–≤–æ, –∏ –æ–Ω–∞ –ø—Ä–∏–æ–±—Ä–µ–ª–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–∏–¥. –í 2010 –≥–æ–¥—É –≤ –ü—Å–∫–æ–≤—Å–∫–æ–º –∫—Ä–µ–º–ª–µ –ø—Ä–æ–∏–∑–æ—à–µ–ª —Å–∏–ª—å–Ω–µ–π—à–∏–π –ø–æ–∂–∞—Ä. –†–∞–∑–¥—É–≤–∞–µ–º—ã–π –≤–µ—Ç—Ä–æ–º –æ–≥–æ–Ω—å —É–Ω–∏—á—Ç–æ–∂–∏–ª –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–π —à–∞—Ç–µ—Ä –í–ª–∞—Å—å–µ–≤—Å–∫–æ–π –±–∞—à–Ω–∏, –Ω–æ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –µ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∏.

–í –ö—Ä–æ–º–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–µ–∑–¥–Ω—ã–µ –±–∞—à–Ω–∏. –ü–æ–ø–∞—Å—Ç—å –Ω–∞ –µ–≥–æ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –°–≤—è—Ç—ã–µ –≤–æ—Ä–æ—Ç–∞, –Ω–∞–¥ –∫–æ—Ç–æ—Ä—ã–º–∏ –≤–æ–∑–≤—ã—à–∞–µ—Ç—Å—è –†—ã–±–Ω–∏—Ü–∫–∞—è –±–∞—à–Ω—è, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤ XV –≤–µ–∫–µ –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∫ –∫—Ä–µ–º–ª—é –æ—Ç —Ä–µ–∫–∏ –ü—Å–∫–æ–≤—ã. –í —Ç–µ –≤—Ä–µ–º–µ–Ω–∞ –Ω–∞ —Å–ø—É—Å–∫–µ –ø—Ä–æ—Å—Ç–∏—Ä–∞–ª—Å—è —Ç–æ—Ä–≥–æ–≤—ã–π —Ä–∞–π–æ–Ω –ü—Å–∫–æ–≤–∞ ‚Äì –†—ã–±–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –∏ –¥–∞–ª –±–∞—à–Ω–µ —Ç–∞–∫–æ–µ –∏–º—è.

–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ—Å—Ç—Ä–æ–π–∫–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞—Å—å –¥–æ –Ω–∞—à–∏—Ö –¥–Ω–µ–π. –û–Ω–∞ –æ–±–≤–µ—Ç—à–∞–ª–∞ –∏ –±—ã–ª–∞ —Ä–∞–∑–æ–±—Ä–∞–Ω–∞. –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –†—ã–±–Ω–∏—Ü–∫–∞—è –±–∞—à–Ω—è –ø–æ—è–≤–∏–ª–∞—Å—å –≤ 1970-–µ –≥–æ–¥—ã, –±–ª–∞–≥–æ–¥–∞—Ä—è —É—Å–∏–ª–∏—è–º –ø—Å–∫–æ–≤—Å–∫–∏—Ö —Ä–µ—Å—Ç–∞–≤—Ä–∞—Ç–æ—Ä–æ–≤. –≠—Ç–æ —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ç–æ–∂–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–æ –æ—Ç –±–æ–ª—å—à–æ–≥–æ –ø–æ–∂–∞—Ä–∞ 2010 –≥–æ–¥–∞, –Ω–æ –±—ã–ª–æ, –∫–∞–∫ –∏ –í–ª–∞—Å—å–µ–≤—Å–∫–∞—è –±–∞—à–Ω—è, —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–æ.

–î–æ–≤–º–æ–Ω—Ç–æ–≤–∞ –∏–ª–∏ –°–º–µ—Ä–¥—å—è –±–∞—à–Ω—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞ —Ç–µ–º, —á—Ç–æ –µ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∑–∞–Ω–∏–º–∞–ª—Å—è –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω –ê–Ω–¥—Ä–µ–µ–≤–∏—á –¢–æ–Ω. –°—Ç—Ä–æ–∏—Ç–µ–ª–∏ —Å–ª–æ–∂–∏–ª–∏ –±–∞—à–Ω—é –ø–æ –µ–≥–æ –ø—Ä–æ–µ–∫—Ç—É –≤ 1866 –≥–æ–¥—É, –≤–æ –≤—Ä–µ–º—è –æ—á–µ—Ä–µ–¥–Ω–æ–π —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ü—Å–∫–æ–≤—Å–∫–æ–≥–æ –∫—Ä–µ–º–ª—è. –û—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –ø—Ä–∏–≤–Ω–µ—Å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –º–Ω–æ–≥–æ –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∏ –±–∞—à–Ω—è —Å—Ç–∞–ª–∞ –ø–æ—Ö–æ–∂–∞ –Ω–∞ —Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—ã–µ –∑–∞–º–∫–∏ –ï–≤—Ä–æ–ø—ã. –ú–Ω–æ–≥–æ–≥—Ä–∞–Ω–Ω–æ–µ —Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–µ–Ω—á–∞–µ—Ç –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π —Ñ–ª—é–≥–µ—Ä –≤ –≤–∏–¥–µ —Ñ–ª–∞–≥–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω —Ä—É—Å—Å–∫–∏–π –≤–æ–∏–Ω.

–ù–∞–¥ –¥–æ–ª–∏–Ω–æ–π –ü—Å–∫–æ–≤—ã –Ω–∞–≤–∏—Å–∞–µ—Ç –°–Ω–µ—Ç–Ω–∞—è –∏–ª–∏ –°—Ä–µ–¥–Ω—è—è –±–∞—à–Ω—è ‚Äì –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –≤—ã—Å–æ–∫–∏—Ö –≤ –∫—Ä–µ–º–ª–µ (35 –º). –û–Ω–∞ –∏–º–µ–µ—Ç –≤–Ω—É—à–∏—Ç–µ–ª—å–Ω—ã–π –¥–∏–∞–º–µ—Ç—Ä ‚Äì 11 –º–µ—Ç—Ä–æ–≤. –°–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å —Å–≤–µ–¥–µ–Ω–∏—è, —á—Ç–æ –ø–æ–º–∏–º–æ –æ–±–æ—Ä–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –±–∞—à–Ω—è —Å–ª—É–∂–∏–ª–∞ –º–µ—Å—Ç–æ–º, –≥–¥–µ –¥–µ—Ä–∂–∞–ª–∏ –∫–æ—Ä–º –¥–ª—è –æ—Ö—Ä–∞–Ω—è–≤—à–∏—Ö –∫—Ä–µ–º–ª—å —Å–æ–±–∞–∫. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–∏–¥ –°–Ω–µ—Ç–Ω–∞—è –±–∞—à–Ω—è –æ–±—Ä–µ–ª–∞ –≤ 1973 –≥–æ–¥—É.

–û–¥–Ω–∞ –∏—Ö –Ω–∞–∏–±–æ–ª–µ–µ –∂–∏–≤–æ–ø–∏—Å–Ω—ã—Ö –±–∞—à–µ–Ω –ü—Å–∫–æ–≤—Å–∫–æ–≥–æ –∫—Ä–µ–º–ª—è —Å—Ç–æ–∏—Ç –≤–æ–∑–ª–µ —Å–∞–º–æ–≥–æ —É—Å—Ç—å—è –ü—Å–∫–æ–≤—ã. –ü—Ä–∏–∑–µ–º–∏—Å—Ç–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–∏–∞–º–µ—Ç—Ä–æ–º 16 –º –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ü–ª–æ—Å–∫–æ–π –±–∞—à–Ω–µ–π. –û–Ω–∞ –≥–∞—Ä–º–æ–Ω–∏—á–Ω–æ –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –æ–∫—Ä—É–∂–∞—é—â–∏–π –ª–∞–Ω–¥—à–∞—Ñ—Ç –∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Å–º–æ—Ç—Ä–∏—Ç—Å—è –∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —Ä–µ–∫–∏ –í–µ–ª–∏–∫–æ–π, –∏ –æ—Ç –ü—Å–∫–æ–≤—ã. –≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–∑ –±–∞—à–µ–Ω –∫—Ä–µ–º–ª—è, –∫–æ—Ç–æ—Ä—É—é –Ω–µ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–ª–∏ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–æ–ª–µ—Ç–∏–π. –û–Ω–∞ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∏ –≤ –Ω–∞—à–∏ –¥–Ω–∏ —Ö–æ—Ä–æ—à–æ –æ—Ç—Ä–µ—Å—Ç–∞–≤—Ä–∏—Ä–æ–≤–∞–Ω–∞.""",
    "architecture": """üè∞ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ö—Ä–µ–º–ª—è - –≥–µ–Ω–∏–π –¥—Ä–µ–≤–Ω–∏—Ö –∑–æ–¥—á–∏—Ö

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Å–∫–æ–≤—Å–∫–æ–π —à–∫–æ–ª—ã –∑–æ–¥—á–µ—Å—Ç–≤–∞:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç–Ω–æ–≥–æ –∏–∑–≤–µ—Å—Ç–Ω—è–∫–∞
- –õ–∞–∫–æ–Ω–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—ã
- –ú–æ—â–Ω—ã–µ —Å—Ç–µ–Ω—ã —Å –ª–æ–ø–∞—Ç–∫–∞–º–∏
- –û—Å–æ–±—ã–µ —Å–∏—Å—Ç–µ–º—ã —Å–≤–æ–¥–æ–≤
- –ë–æ–µ–≤—ã–µ –≥–∞–ª–µ—Ä–µ–∏ (–∑–∞—Ö–∞–±—ã)

–õ—É—á—à–∏–µ –º–∞—Å—Ç–µ—Ä–∞ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–∏ –≤ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ –ú–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ –ö—Ä–µ–º–ª—è.""",
    "places": """üìç –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º–µ—Å—Ç–∞ –ö—Ä–µ–º–ª—è

1. –ü—Ä–∏–∫–∞–∑–Ω—ã–µ –ø–∞–ª–∞—Ç—ã (XVII –≤.) - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Ü–µ–Ω—Ç—Ä
2. –ü–æ–≥–∞–Ω–∫–∏–Ω—ã –ø–∞–ª–∞—Ç—ã - –∫—É–ø–µ—á–µ—Å–∫–∏–µ –ø–∞–ª–∞—Ç—ã
3. –ú–µ—Å—Ç–æ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –º–µ—á–∞ –î–æ–≤–º–æ–Ω—Ç–∞
4. "–°–º–µ—Ä–¥—å—è –±–∞—à–Ω—è" - –ø–æ –ø—Ä–µ–¥–∞–Ω–∏—é, –º–µ—Å—Ç–æ –∫–∞–∑–Ω–∏
5. –î—Ä–µ–≤–Ω–∏–π –∫–æ–ª–æ–¥–µ—Ü —Å —Ä–æ–¥–Ω–∏–∫–æ–≤–æ–π –≤–æ–¥–æ–π
6. –û—Å—Ç–∞—Ç–∫–∏ —Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—ã—Ö –º–æ—Å—Ç–æ–≤—ã—Ö""",
    "map": "üó∫ –°—Ö–µ–º–∞ –ü—Å–∫–æ–≤—Å–∫–æ–≥–æ –ö—Ä–µ–º–ª—è",
}

# –í—Å–µ —Ñ–æ—Ç–æ (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã)
photo_urls = [
    "https://wikiway.com/upload/hl-photo/2ab/747/pskovskiy_kreml_29.jpg",
    "https://wikiway.com/upload/hl-photo/f18/15b/pskovskiy_kreml_26.jpg",
    "https://wikiway.com/upload/hl-photo/c9d/56c/pskovskiy_kreml_23.jpg",
    "https://wikiway.com/upload/hl-photo/ff4/9f6/pskovskiy_kreml_20.jpg",
    "https://wikiway.com/upload/hl-photo/481/eef/pskovskiy_kreml_1.jpg",
    "https://avatars.mds.yandex.net/get-altay/13590061/2a00000192586145741777fbab5a3d214ce4/XXXL",
    "https://sun9-21.userapi.com/impg/zLu8okcBi3SOimqubFPtjfLF9yALTPgOyPLX0Q/AA7ktdUjYWM.jpg?size=1620x2160&quality=95&sign=669b56f40a8526009b480fe179ecd56b&type=album",
    "https://sun9-44.userapi.com/impg/0X-6kobOBrTnJs2Bbokd32_wPRZTgXbpCRb7sg/eW2AQNhXvVY.jpg?size=1920x2140&quality=95&sign=294007fe1b9827b841e66b2d730da1ce&type=album",
    "https://avatars.mds.yandex.net/get-altay/13671691/2a00000190d5474f968e75c280efd077cd33/XXXL",
    "https://sun9-44.userapi.com/impg/0X-6kobOBrTnJs2Bbokd32_wPRZTgXbpCRb7sg/eW2AQNhXvVY.jpg?size=1920x2140&quality=95&sign=294007fe1b9827b841e66b2d730da1ce&type=album",
    "https://avatars.mds.yandex.net/get-altay/13455884/2a000001913b3e4233c3e528cd6cc5f86366/XXXL",
    "https://sun9-24.userapi.com/impg/Ear4HHf51_Ixonzyi2BoTA1A0f-QtiWpVqVaxg/IZ2jyRJI86M.jpg?size=1620x2160&quality=95&sign=e0c6f0c123b6af5d453a51ce5c2c1ba1&type=album",
    "https://sun9-9.userapi.com/impg/3XOSUBln5k6SXn0NkLxgHqEsRSsOVERpjuAPJQ/4YkXGBf9Hh8.jpg?size=2560x1440&quality=95&sign=9aa48f922e0fb1874308a9ea868747c6&type=album",
    "https://sun9-73.userapi.com/impg/ItpibdRqp8_Vthp5HNdGLIIS605iq0uB5khL7g/xqyspaGCo2M.jpg?size=1080x938&quality=95&sign=73cbe436199f2a57724e492f0ac33aaa&type=album",
    "https://sun9-32.userapi.com/impg/oU5q-zY62kDwiQuR7E8tCUrGwMTsIb_TYwBDVA/7DdtP9aDPMw.jpg?size=1200x1600&quality=95&sign=ceb06d0c0e5505f7c35ee62eac79eb9f&type=album",
    "https://sun9-46.userapi.com/impg/pf2xWQJW0y6kkNUIH662MeddoVBfXyWP5iASAA/kpgzJopajJY.jpg?size=902x1032&quality=95&sign=e3c7e25350df964a21b9ab4319909230&type=album",
]

# –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ç–æ (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã)
historical_photo_urls = [
    "https://sun9-6.userapi.com/impg/B8l5F5IPWR_KD7dev8uKCByIeujxLOSVW2YNWA/tnPqvpcgwTw.jpg?size=1600x1058&quality=95&sign=9d5d1483cd561dd86107922135fb7b88&type=album",
    "https://sun9-5.userapi.com/impg/X_csfph-aGP7OJy_aCl5DTivCULXU7C_3vE1cA/LX6tAQEu49c.jpg?size=1287x970&quality=95&sign=1972d6031fab6a31f5f67642d3c06bbf&type=album",
    "https://sun9-77.userapi.com/impg/6JC4ZTdWeh8vUSYuISebZYBe8_xs7T-MMrTZOg/xmhGhxf-8-k.jpg?size=1280x825&quality=95&sign=a65bc0cd61dbf25b6034d4d346babdb4&type=album",
    "https://sun9-19.userapi.com/impg/avHifZ_Jm-BP8L4YfpQzHKUhcU1drgjTrfjLpw/S_lHf5p9VCg.jpg?size=941x1127&quality=95&sign=ee8b51db53e52867aba42606bf4e37fd&type=album",
    "https://sun9-26.userapi.com/impg/UdfOC9sBLWAkd5FU0sL8hHZ8Q_ChOYm3EWx8Pw/jYM5IHSyzkA.jpg?size=1226x774&quality=95&sign=f76ca9614d9897e9b32f83d2b7d3eaf3&type=album",
    "https://sun9-39.userapi.com/impg/JufR54xa6M2AUjHiAIntUsb_kgafl7d4OkYhUQ/XB4w58hhdDs.jpg?size=1600x1196&quality=95&sign=ec705b474b755f748829e3caa727b621&type=album",
    "https://sun9-15.userapi.com/impg/kAiGwFC8RB53pN4Q_uItcnedgJcrh2P0tCPcTw/f8wNgdTFm3k.jpg?size=1036x655&quality=95&sign=8a9f58bb868e0d84bf4aadc1f1bbab81&type=album",
    "https://sun9-68.userapi.com/impg/2w_wl00yRFZr5T9HJnNS089j6xnmzw0zs0F2YA/Q9Czsy4EbXo.jpg?size=926x941&quality=95&sign=a45a9b747fc432d98d4819d116562cfe&type=album",
    "https://sun9-3.userapi.com/impg/eHzo9fQF6z2vr6B1GeWiaHARJlsoxpCa99UoLA/ztAaNrb5BIg.jpg?size=1644x1055&quality=95&sign=66dd844a7ece00076516d706fbed4d81&type=album",
    "https://sun9-43.userapi.com/impg/Qo8vSidlgsqQKaGQjmWG2dGUw7vxF4HJ5RRLWQ/Tw9RfjTrAy4.jpg?size=984x575&quality=95&sign=1a353c965e56905e2bbc744dcfaa43ad&type=album",
    "https://sun9-27.userapi.com/impg/4OIeZlW1pqp4fPWX7lqNBEIjhQv8JbzC4Z-RsA/MiOaROICN0A.jpg?size=1476x1008&quality=95&sign=d962477ca1e9d72921bb4f631c649395&type=album",
]

# –ó–∞–≥–∞–¥–∫–∏ (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã)
riddles_list = [
    ("–ö–∞–∫–∞—è —Ä–µ–∫–∞ –ø—Ä–æ—Ç–µ–∫–∞–µ—Ç —Ä—è–¥–æ–º —Å –ü—Å–∫–æ–≤—Å–∫–∏–º –ö—Ä–µ–º–ª–µ–º?", "–≤–µ–ª–∏–∫–∞—è"),
    ("–ö–∞–∫–∞—è —Ä–µ–∫–∞ –ø—Ä–æ—Ç–µ–∫–∞–µ—Ç —Ä—è–¥–æ–º —Å –ü—Å–∫–æ–≤—Å–∫–∏–º –ö—Ä–µ–º–ª–µ–º?", "–ø—Å–∫–æ–≤–∞"),
    ("–°–∫–æ–ª—å–∫–æ –±–∞—à–µ–Ω —É –ü—Å–∫–æ–≤—Å–∫–æ–≥–æ –ö—Ä–µ–º–ª—è?", "7"),
    ("–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≥–ª–æ–≤–∞—è –±–∞—à–Ω—è –ø—Å–∫–æ–≤—Å–∫–æ–≥–æ –ö—Ä–µ–º–ª—è?", "–ö—É—Ç–µ–∫—Ä–æ–º–∞"),
    ("–ö–∞–∫–æ–π —Ö—Ä–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –ö—Ä–µ–º–ª—è?", "—Ç—Ä–æ–∏—Ü–∫–∏–π —Å–æ–±–æ—Ä"),
    (
        "–Æ–∂–Ω–∞—è —Å—Ç–µ–Ω–∞ –ö—Ä–æ–º–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ü–µ—Ä—Å–∏. –ê –∫–∞–∫ —ç—Ç–æ —Å–ª–æ–≤–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è —Å –¥—Ä–µ–≤–Ω–µ—Ä—É—Å—Å–∫–æ–≥–æ?",
        "–≥—Ä—É–¥—å",
    ),
]

# –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
user_riddles = {}
user_riddle_lists = {}

# –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ö—Ä–µ–º–ª—è
KREMLIN_LAT = 57.8222
KREMLIN_LON = 28.3281

# ========== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –°–û–û–ë–©–ï–ù–ò–ô ==========
@dp.message(Command("start"))
async def start(message: types.Message):
    welcome_text = """
üè∞ *–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –≥–∏–¥ –ø–æ –ü—Å–∫–æ–≤—Å–∫–æ–º—É –ö—Ä–µ–º–ª—é!*

–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ:
- üìú –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ –¥—Ä–µ–≤–Ω–µ–π –∫—Ä–µ–ø–æ—Å—Ç–∏
- üñº –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- üó∫ –°—Ö–µ–º—É –ö—Ä–µ–º–ª—è —Å –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏
- üå§ –ê–∫—Ç—É–∞–ª—å–Ω—É—é –ø–æ–≥–æ–¥—É –≤ –ü—Å–∫–æ–≤–µ
- ‚ùì –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∑–∞–≥–∞–¥–∫–∏ –æ –ö—Ä–µ–º–ª–µ

–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –≤–∞—Å —Ä–∞–∑–¥–µ–ª –≤ –º–µ–Ω—é –Ω–∏–∂–µ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å.

*–ü—Å–∫–æ–≤—Å–∫–∏–π –ö—Ä–µ–º–ª—å* - —ç—Ç–æ:
‚Ä¢ –û–¥–∏–Ω –∏–∑ –¥—Ä–µ–≤–Ω–µ–π—à–∏—Ö –∫—Ä–µ–º–ª–µ–π –†–æ—Å—Å–∏–∏ (X-XI –≤–≤.)
‚Ä¢ –û–±—ä–µ–∫—Ç –í—Å–µ–º–∏—Ä–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–∏—è –Æ–ù–ï–°–ö–û
‚Ä¢ –ú–µ—Å—Ç–æ –∑–∞—Ä–æ–∂–¥–µ–Ω–∏—è –ø—Å–∫–æ–≤—Å–∫–æ–π –≤–µ—á–µ–≤–æ–π —Ä–µ—Å–ø—É–±–ª–∏–∫–∏
‚Ä¢ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑–µ—Ü –ø—Å–∫–æ–≤—Å–∫–æ–π —à–∫–æ–ª—ã –∑–æ–¥—á–µ—Å—Ç–≤–∞

–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –≤ –∏—Å—Ç–æ—Ä–∏—é! üèõÔ∏è
"""
    await message.answer_photo(
        photo="https://sun9-44.userapi.com/impg/0X-6kobOBrTnJs2Bbokd32_wPRZTgXbpCRb7sg/eW2AQNhXvVY.jpg?size=1920x2140&quality=95&sign=294007fe1b9827b841e66b2d730da1ce&type=album",
        caption=welcome_text,
        parse_mode="Markdown",
        reply_markup=keyboard,
    )

@dp.message(F.text)
async def handle_message(message: types.Message):
    user_id = message.from_user.id
    text = message.text.strip()

    if text == "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫":
        user_riddles.pop(user_id, None)
        user_riddle_lists.pop(user_id, None)
        await message.answer("üîÑ –ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω!", reply_markup=keyboard)

    elif text == "üè∞ –û –ö—Ä–µ–º–ª–µ":
        await message.answer("–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:", reply_markup=kremlin_inline_keyboard)

    elif text == "üñº –§–æ—Ç–æ":
        await message.answer("üì∑ –û—Ç–ø—Ä–∞–≤–ª—è—é —Ñ–æ—Ç–æ...")
        for photo_url in photo_urls:
            await message.answer_photo(photo_url)
            await asyncio.sleep(1)
        await message.answer("–í—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!")

    elif text == "‚ùì –ó–∞–≥–∞–¥–∫–∞":
        if user_id not in user_riddle_lists or not user_riddle_lists[user_id]:
            user_riddle_lists[user_id] = random.sample(riddles_list, len(riddles_list))

        riddle, answer = user_riddle_lists[user_id].pop()
        user_riddles[user_id] = (riddle, answer)
        await message.answer(f"‚ùì –ó–∞–≥–∞–¥–∫–∞: {riddle}")

    elif text == "üå§ –ü–æ–≥–æ–¥–∞":
        weather = await get_weather()
        await message.answer(weather)

    elif text == "‚ùì –£–∑–Ω–∞—Ç—å –æ—Ç–≤–µ—Ç":
        if user_id in user_riddles:
            riddle, answer = user_riddles[user_id]
            if "—Ä–µ–∫–∞" in riddle.lower():
                response = "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:\n1. –í–µ–ª–∏–∫–∞—è\n2. –ü—Å–∫–æ–≤–∞"
            else:
                response = f"–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: {answer}"
            await message.answer(response, reply_markup=keyboard)
            del user_riddles[user_id]
        else:
            await message.answer("–°–µ–π—á–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–≥–∞–¥–æ–∫", reply_markup=keyboard)

    elif user_id in user_riddles:
        riddle, answer = user_riddles[user_id]
        if "—Ä–µ–∫–∞" in riddle.lower():
            if text.lower() in ["–≤–µ–ª–∏–∫–∞—è", "–ø—Å–∫–æ–≤–∞"]:
                await message.answer("‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!", reply_markup=keyboard)
                del user_riddles[user_id]
            else:
                await message.answer(
                    "‚ùå –ù–µ–≤–µ—Ä–Ω–æ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ '‚ùì –£–∑–Ω–∞—Ç—å –æ—Ç–≤–µ—Ç'",
                    reply_markup=answer_keyboard,
                )
        else:
            if text.lower() == answer.lower():
                await message.answer("‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!", reply_markup=keyboard)
                del user_riddles[user_id]
            else:
                await message.answer(
                    "‚ùå –ù–µ–≤–µ—Ä–Ω–æ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ '‚ùì –£–∑–Ω–∞—Ç—å –æ—Ç–≤–µ—Ç'",
                    reply_markup=answer_keyboard,
                )

@dp.message(F.content_type == "location")
async def handle_location(message: types.Message):
    lat = message.location.latitude
    lon = message.location.longitude
    distance = calculate_distance(lat, lon, KREMLIN_LAT, KREMLIN_LON)

    if distance < 0.5:
        response = "üè∞ –í—ã —É —Å—Ç–µ–Ω –ö—Ä–µ–º–ª—è!"
    elif distance < 5:
        response = f"üìç –í—ã –≤ {distance:.1f} –∫–º –æ—Ç –ö—Ä–µ–º–ª—è"
    else:
        response = f"üåç –í—ã –≤ {distance:.1f} –∫–º –æ—Ç –ü—Å–∫–æ–≤–∞"

    await message.answer(response, reply_markup=keyboard)

@dp.callback_query()
async def handle_callback(callback: types.CallbackQuery):
    data = callback.data

    if data == "back_to_main":
        await callback.message.edit_text(
            "–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:", reply_markup=kremlin_inline_keyboard
        )
    elif data == "history":
        await callback.message.edit_text(
            kremlin_info["history"], reply_markup=history_keyboard
        )
    elif data == "map":
        await callback.message.answer_photo(
            "https://sun9-2.userapi.com/impg/SRUn-jZVB031BoD8IBxWUjjaZ7HT3PMKXv1FSg/pSrPAdRyG_o.jpg?size=1600x1156&quality=95&sign=7a665004c8c9ecac218205f7d23fc0ba&type=album",
            caption=kremlin_info["map"],
        )
    elif data in kremlin_info:
        await callback.message.edit_text(
            kremlin_info[data],
            reply_markup=InlineKeyboardMarkup(
                inline_keyboard=[
                    [
                        InlineKeyboardButton(
                            text="üîô –ù–∞–∑–∞–¥",
                            callback_data=(
                                "history"
                                if data.startswith("history_")
                                else "back_to_main"
                            ),
                        )
                    ]
                ]
            ),
        )
    elif data == "historical_photos":
        await callback.message.answer("üï∞ –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ç–æ:")
        for photo_url in historical_photo_urls:
            await callback.message.answer_photo(photo_url)
            await asyncio.sleep(1)
        await callback.answer()

    await callback.answer()

# ========== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ==========
async def get_weather(city: str = "–ü—Å–∫–æ–≤"):
    try:
        async with aiohttp.ClientSession() as session:
            params = {
                "q": city,
                "appid": WEATHER_API_KEY,
                "units": "metric",
                "lang": "ru",
            }
            async with session.get(WEATHER_URL, params=params) as response:
                data = await response.json()
                if response.status == 200:
                    weather = data["weather"][0]["description"]
                    temp = data["main"]["temp"]
                    feels_like = data["main"]["feels_like"]
                    humidity = data["main"]["humidity"]
                    wind = data["wind"]["speed"]
                    return (
                        f"üå§ –ü–æ–≥–æ–¥–∞ –≤ {city}:\n"
                        f"‚Ä¢ –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: {temp}¬∞C (–æ—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ {feels_like}¬∞C)\n"
                        f"‚Ä¢ –°–æ—Å—Ç–æ—è–Ω–∏–µ: {weather}\n"
                        f"‚Ä¢ –í–ª–∞–∂–Ω–æ—Å—Ç—å: {humidity}%\n"
                        f"‚Ä¢ –í–µ—Ç–µ—Ä: {wind} –º/—Å"
                    )
                else:
                    return "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ"
    except Exception as e:
        logging.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–æ–≥–æ–¥—ã: {e}")
        return "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø–æ–≥–æ–¥—ã"

def calculate_distance(lat1, lon1, lat2, lon2):
    R = 6373.0
    lat1, lon1, lat2, lon2 = map(radians, [lat1, lon1, lat2, lon2])
    dlon = lon2 - lon1
    dlat = lat2 - lat1
    a = sin(dlat / 2) ** 2 + cos(lat1) * cos(lat2) * sin(dlon / 2) ** 2
    return R * (2 * atan2(sqrt(a), sqrt(1 - a)))

# ========== –û–ë–†–ê–ë–û–¢–ö–ê –ó–ê–í–ï–†–®–ï–ù–ò–Ø –†–ê–ë–û–¢–´ ==========
async def on_shutdown(dp):
    logging.warning("–ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã...")
    await bot.close()
    await dp.storage.close()
    logging.warning("–ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")

# ========== –ó–ê–ü–£–°–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ==========
@asynccontextmanager
async def lifespan(app: FastAPI):
    # –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞ –≤ —Ñ–æ–Ω–µ
    asyncio.create_task(executor.start_polling(dp, on_shutdown=on_shutdown))
    yield
    # –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º —Å–µ—Å—Å–∏—é –±–æ—Ç–∞
    await bot.session.close()

app = FastAPI(lifespan=lifespan)

@app.get("/")
async def root():
    return {"message": "Bot is running"}

@app.get("/health")
async def health_check():
    return {"status": "OK"}

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=int(os.environ.get("PORT", 10000)))